# RBI Central

![Build Status](https://github.com/Shopify/rbi-central/workflows/CI/badge.svg)

## Overview

RBI Central is a cumulative repository of [RBI](https://sorbet.org/docs/rbi) ("Ruby Interface") file annotations for public gems which can be [imported by Tapioca](https://github.com/Shopify/tapioca#pulling-rbi-annotations-from-remote-sources). This repository can be used to annotate gem RBIs that Tapioca canâ€™t represent fully and even fix type checking errors as a result.

### Annotations

Annotations are hand-written RBI files for commonly used gems that tell Sorbet information about the gem (e.g., constants, ancestors, methods) that isn't already generated by Tapioca. In other words, annotations are shareable [shims](https://github.com/Shopify/tapioca#manually-writing-rbi-definitions-shims).

In this repository, annotations are placed in the `rbi/annotations` folder.

### Pulling annotations

To pull relevant gem annotations into your project, run Tapioca's [`annotations` command](https://github.com/Shopify/tapioca#pulling-rbi-annotations-from-remote-sources) inside your project:
```
$ bin/tapioca annotations
```

## CI checks

The CI for this repository is written using GitHub Actions. Here is a list of currently available CI checks:

| CLI Command                                                 | Description                                                    |
| ----------------------------------------------------------- | -------------------------------------------------------------- |
| `scripts/run_on_changed_rbis "bundle exec rubocop"`         | Lint RBI files                                                 |
| `scripts/run_on_changed_rbis scripts/check_types`           | Typecheck RBI files                                            |
| `scripts/run_on_changed_rbis scripts/check_gems_are_public` | Check new RBI files belong to public gems                      |
| `scripts/lint_index_json`                                   | Lint `index.json`                                              |
| `scripts/match_index_entries_with_rbis`                     | Check `index.json` entries match `rbi/annotations/*.rbi` files |
| `bundle exec rubocop`                                       | Ensure all RBI files in the repo use the sigil `strict`        |

All scripts used in the CI checks are located in the `scripts` folder.

## Contributing

Bug reports and pull requests are welcome on GitHub at https://github.com/Shopify/rbi-central.

This project is intended to be a safe, welcoming space for collaboration, and contributors are expected to adhere to the [Contributor Covenant](https://github.com/Shopify/rbi-central/blob/main/CODE_OF_CONDUCT.md) code of conduct.

## License

The gem is available as open source under the terms of the
[MIT License](https://github.com/Shopify/rbi-central/blob/main/LICENSE.txt).
